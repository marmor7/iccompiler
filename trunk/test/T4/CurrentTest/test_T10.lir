
######################
# Program workspace/IC_COMPILER/test/T4/CurrentTest/test_T10.ic
######################

######################
# STRING LITERALS
arr_neg_alloc_size: "Negative or zero array size allocation. Program will no exit. "
null_reference: "Null reference. Program will no exit. "
illegal_arr_loc: "Illegal array location. Program will no exit. "
dev_by_zero: "Devision by zero. Program will no exit. "
str0: "y="
######################

######################
# DISPATCH VECTORS
_DV_B: [_B_foo]
_DV_A: [_A_foo]
######################

_A_foo:   # Method foo:
# Line 5: 
Move y, R1
Move 1, R2
Add R2,R1
Move R1, z_A_18
# Line 6: 
Move z_A_18, R3
Move R3, R4
Return R4
Return 9999
_ic_main:   # Main Method
# Line 9: 
Library __allocateObject(16),R5 # Allocation of B
MoveField _DV_B,R5.0 # Move field for DV pointer
Move R5, p_A_19
# Line 10: 
Move 5, R7
Move p_A_19, R8
VirtualCall R8.0(y=R7),R8
Library __exit(0),Rdummy
# Method main end
Return 9999
_B_foo:   # Method foo:
# Line 17: 
Move this, R9
Compare 0,R9
JumpTrue _null_reference
MoveField R9.2,R10
Move str0, R11 # assigning literal to reg
Move y, R12
Library __itos(R12),R13
Library __stringCat(R11,R13),R11
Move R9, R14
Compare 0,R14
JumpTrue _null_reference
MoveField R11,R14.2 # assigning val to loc
# Line 18: 
Move this, R15
Compare 0,R15
JumpTrue _null_reference
MoveField R15.2,R16
Library __println(R16),R17
# Line 19: 
Move this, R18
Compare 0,R18
JumpTrue _null_reference
MoveField R18.2,R19
Library __stoa(R19),R20
Move R20, sarr_B_20
# Line 20: 
Move sarr_B_20, R21
ArrayLength R21, R22
Move R22, l_B_20
# Line 21: 
Move l_B_20, R23
Library __printi(R23),R24
# Line 22: 
Move l_B_20, R25
Move R25, R26
Return R26
Return 9999

######################
# Error Labels
######################

_null_reference:
Library __println(null_reference),Rdummy
Library __exit(1),Rdummy

_illegal_arr_loc:
Library __println(illegal_arr_loc),Rdummy
Library __exit(1),Rdummy

_dev_by_zero:
Library __println(dev_by_zero),Rdummy
Library __exit(1),Rdummy

_arr_neg_alloc_size:
Library __println(arr_neg_alloc_size),Rdummy
Library __exit(1),Rdummy

