##################################
# String Literals
zero_division_error_str: "Runtime Error: Illegal division by zero!"
array_index_out_of_bounds_str: "Runtime Error: Array index out of bounds!"
array_size_negative_str: "Runtime Error: Array allocation with non-positive array size!"
null_pointer_dereference_str: "Runtime Error: Null pointer dereference!"
str4: "In method g of class A1"
str5: ""
str6: "x is greater than y"
str7: "inside a statement block"
##################################

##################################
# Dispatch Vectors
_DV_A1 : [_A1_g]
_DV_A2 : []
##################################

_zero_division_error_handler:
Library __println(zero_division_error_str),Rdummy
Library __exit(1),Rdummy

_negative_array_size_handler:
Library __println(array_size_negative_str),Rdummy
Library __exit(1),Rdummy

_null_ptr_dereference_handler:
Library __println(null_pointer_dereference_str),Rdummy
Library __exit(1),Rdummy

_array_index_out_of_bounds_handler:
Library __println(array_index_out_of_bounds_str),Rdummy
Library __exit(1),Rdummy

################# A2.f #################
_A2_f:
Move 1,R1
Move R1,v0b
Move 0,R1
Move R1,v1b1
Move v1b1,R1
Compare 0,R1
JumpTrue _end_lbl2
Move v0b,R1
_end_lbl2:
Xor 1,R1
Move R1,v5b2
Move v5b2,R1
Compare 0,R1
JumpTrue _end_lbl6
Move 1,R1
_end_lbl6:
Return R1
##################################

################# A1.g #################
_A1_g:
Move str4,R1
Library __println(R1),Rdummy
Return Rdummy
Return Rdummy
##################################

################# ic.main #################
_ic_main:
StaticCall _A2_f(),R1
Move R1,v8result
Move v8result,R1
Library __printb(R1),Rdummy
Move str5,R1
Library __println(R1),Rdummy
StaticCall _A2_f(),R1
Library __printb(R1),Rdummy
Library __allocateObject(12),R1
MoveField _DV_A1,R1.0
Move R1,v10a
# x = 7
Move 7,R1
Move v10a,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
MoveField R1,R2.1
# y = 52
Move 52,R1
Move v10a,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
MoveField R1,R2.2
Move str5,R1
Library __println(R1),Rdummy
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R3.2,R1
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R3.1,R2
Mod R2,R1
Library __printi(R1),Rdummy
Library __allocateObject(12),R1
MoveField _DV_A1,R1.0
Compare 0,R1
JumpTrue _null_ptr_dereference_handler
VirtualCall R1.0(),Rdummy
Move 323,R1
Compare 0,R1
JumpLE _negative_array_size_handler
Mul 4,R1
Library __allocateArray(R1),R1
Compare 0,R1
JumpTrue _null_ptr_dereference_handler
ArrayLength R1,R1
Move 10,R2
Compare 0,R2
JumpTrue _zero_division_error_handler
Div R2,R1
Library __printi(R1),Rdummy
Move 5,R2
Move 5,R1
Compare R1,R2
JumpFalse _true_label16
Move 0,R1
Jump _end_lbl15
_true_label16:
Move 1,R1
_end_lbl15:
Compare 0,R1
JumpTrue _else17
Move str5,R2
Library __println(R2),Rdummy
Move str6,R2
Library __println(R2),Rdummy
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R3.1,R2
Move R2,v19t
# x = y
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R3.2,R2
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R2,R3.1
# y = t
Move v19t,R2
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R2,R3.2
_else17:
Move str5,R1
Library __println(R1),Rdummy
Move str7,R1
Library __println(R1),Rdummy
Move 23,R1
Move R1,v24k
Move v24k,R1
Move R1,v26x
Move str5,R1
Library __println(R1),Rdummy
Move v24k,R1
Move v26x,R2
Mul R2,R1
Library __printi(R1),Rdummy
_test29:
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R3.2,R2
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R3.1,R1
Compare R1,R2
JumpLE _true_label32
Move 0,R1
Jump _end_lbl31
_true_label32:
Move 1,R1
_end_lbl31:
Compare 0,R1
JumpTrue _end30
_test35:
Move v10a,R4
Compare 0,R4
JumpTrue _null_ptr_dereference_handler
MoveField R4.2,R3
Move v10a,R4
Compare 0,R4
JumpTrue _null_ptr_dereference_handler
MoveField R4.1,R2
Compare R2,R3
JumpLE _true_label38
Move 0,R2
Jump _end_lbl37
_true_label38:
Move 1,R2
_end_lbl37:
Compare 0,R2
JumpTrue _end36
Jump _end36
Jump _test35
_end36:
# y = y PLUS 1
Move v10a,R4
Compare 0,R4
JumpTrue _null_ptr_dereference_handler
MoveField R4.2,R2
Move 1,R3
Add R3,R2
Move v10a,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
MoveField R2,R3.2
Jump _test29
_end30:
Move str5,R1
Library __println(R1),Rdummy
Move v10a,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
MoveField R2.2,R1
Library __printi(R1),Rdummy
Move 3,R1
Compare 0,R1
JumpLE _negative_array_size_handler
Mul 4,R1
Library __allocateArray(R1),R1
Move R1,v44arr1
Move 3,R1
Compare 0,R1
JumpLE _negative_array_size_handler
Mul 4,R1
Library __allocateArray(R1),R1
Move R1,v45arr2
# arr1[0] = 0
Move 0,R1
Move v44arr1,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 0,R3
ArrayLength R2,R4
Compare R4,R3
JumpGE _array_index_out_of_bounds_handler
Compare 0,R3
JumpL _array_index_out_of_bounds_handler
MoveArray R1,R2[R3]
# arr1[1] = 1
Move 1,R1
Move v44arr1,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
Move 1,R2
ArrayLength R3,R4
Compare R4,R2
JumpGE _array_index_out_of_bounds_handler
Compare 0,R2
JumpL _array_index_out_of_bounds_handler
MoveArray R1,R3[R2]
# arr1[2] = 2
Move 2,R1
Move v44arr1,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 2,R3
ArrayLength R2,R4
Compare R4,R3
JumpGE _array_index_out_of_bounds_handler
Compare 0,R3
JumpL _array_index_out_of_bounds_handler
MoveArray R1,R2[R3]
# arr2[0] = arr1[2]
Move v44arr1,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
Move 2,R1
ArrayLength R3,R2
Compare R2,R1
JumpGE _array_index_out_of_bounds_handler
Compare 0,R1
JumpL _array_index_out_of_bounds_handler
MoveArray R3[R1],R1
Move v45arr2,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
Move 0,R2
ArrayLength R3,R4
Compare R4,R2
JumpGE _array_index_out_of_bounds_handler
Compare 0,R2
JumpL _array_index_out_of_bounds_handler
MoveArray R1,R3[R2]
# arr2[1] = arr1[1]
Move v44arr1,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 1,R1
ArrayLength R2,R3
Compare R3,R1
JumpGE _array_index_out_of_bounds_handler
Compare 0,R1
JumpL _array_index_out_of_bounds_handler
MoveArray R2[R1],R1
Move v45arr2,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 1,R3
ArrayLength R2,R4
Compare R4,R3
JumpGE _array_index_out_of_bounds_handler
Compare 0,R3
JumpL _array_index_out_of_bounds_handler
MoveArray R1,R2[R3]
# arr2[2] = arr1[0]
Move v44arr1,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
Move 0,R1
ArrayLength R3,R2
Compare R2,R1
JumpGE _array_index_out_of_bounds_handler
Compare 0,R1
JumpL _array_index_out_of_bounds_handler
MoveArray R3[R1],R1
Move v45arr2,R3
Compare 0,R3
JumpTrue _null_ptr_dereference_handler
Move 2,R2
ArrayLength R3,R4
Compare R4,R2
JumpGE _array_index_out_of_bounds_handler
Compare 0,R2
JumpL _array_index_out_of_bounds_handler
MoveArray R1,R3[R2]
Move str5,R1
Library __println(R1),Rdummy
Move v45arr2,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 0,R1
ArrayLength R2,R3
Compare R3,R1
JumpGE _array_index_out_of_bounds_handler
Compare 0,R1
JumpL _array_index_out_of_bounds_handler
MoveArray R2[R1],R1
Library __printi(R1),Rdummy
Move str5,R1
Library __println(R1),Rdummy
Move v45arr2,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 1,R1
ArrayLength R2,R3
Compare R3,R1
JumpGE _array_index_out_of_bounds_handler
Compare 0,R1
JumpL _array_index_out_of_bounds_handler
MoveArray R2[R1],R1
Library __printi(R1),Rdummy
Move str5,R1
Library __println(R1),Rdummy
Move v45arr2,R2
Compare 0,R2
JumpTrue _null_ptr_dereference_handler
Move 2,R1
ArrayLength R2,R3
Compare R3,R1
JumpGE _array_index_out_of_bounds_handler
Compare 0,R1
JumpL _array_index_out_of_bounds_handler
MoveArray R2[R1],R1
Library __printi(R1),Rdummy
##################################

